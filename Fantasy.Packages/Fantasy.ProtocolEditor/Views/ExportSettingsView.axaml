<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:Fantasy.ProtocolEditor.ViewModels"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="600"
             x:Class="Fantasy.ProtocolEditor.Views.ExportSettingsView"
             x:DataType="vm:ExportSettingsViewModel"
             Background="#1E1E1E">

    <Grid RowDefinitions="Auto,*" Margin="10">
        <!-- é¡¶éƒ¨å·¥å…·æ  -->
        <Border Grid.Row="0" Background="#2D2D30" CornerRadius="4" Padding="10" Margin="0,0,0,10">
            <Grid ColumnDefinitions="*,Auto">
                <TextBlock Grid.Column="0"
                           Text="åè®®å¯¼å‡ºé…ç½®"
                           FontSize="16"
                           FontWeight="Bold"
                           Foreground="#FFFFFF"
                           VerticalAlignment="Center"/>
                <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="10">
                    <TextBlock Text="{Binding SaveMessage}"
                               FontSize="12"
                               Foreground="#4CAF50"
                               VerticalAlignment="Center"
                               Margin="0,0,10,0"/>
                    <Button Content="ä¿å­˜"
                            Command="{Binding SaveConfigCommand}"
                            IsEnabled="{Binding IsModified}"
                            Background="#007ACC"
                            Foreground="White"
                            Padding="15,5"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- ä¸»å†…å®¹åŒº -->
        <ScrollViewer Grid.Row="1">
            <StackPanel Margin="10" Spacing="15">

            <!-- å·¥ä½œåŒºè·¯å¾„ï¼ˆåªè¯»ï¼‰ -->
            <StackPanel Spacing="5">
                <TextBlock Text="åè®®ç›®å½•ï¼ˆå·¥ä½œåŒºè·¯å¾„ï¼‰"
                           FontWeight="SemiBold"
                           Foreground="#CCCCCC"/>
                <Border Background="#252526"
                        BorderBrush="#3E3E42"
                        BorderThickness="1"
                        CornerRadius="4"
                        Padding="10">
                    <TextBlock Text="{Binding WorkspacePath}"
                               FontFamily="Consolas,Menlo,Monaco,monospace"
                               TextWrapping="Wrap"
                               Foreground="#858585"/>
                </Border>
                <TextBlock Text="ðŸ’¡ åè®®ç›®å½•è‡ªåŠ¨ä½¿ç”¨å½“å‰æ‰“å¼€çš„å·¥ä½œåŒºè·¯å¾„"
                           FontSize="12"
                           Foreground="#858585"/>
            </StackPanel>

            <Separator Background="#3E3E42"/>

            <!-- æœåŠ¡å™¨é…ç½® -->
            <StackPanel Spacing="5">
                <CheckBox IsChecked="{Binding ExportToServer}"
                          Content="å¯¼å‡ºåˆ°æœåŠ¡å™¨"
                          FontWeight="SemiBold"
                          Foreground="#CCCCCC"/>

                <StackPanel Spacing="5" IsEnabled="{Binding ExportToServer}">
                    <TextBlock Text="æœåŠ¡å™¨è¾“å‡ºç›®å½•"
                               Foreground="#CCCCCC"/>
                    <TextBox Text="{Binding ServerOutputDirectory}"
                             Watermark="ä¾‹å¦‚: /path/to/server/output"
                             FontFamily="Consolas,Menlo,Monaco,monospace"
                             Background="#252526"
                             Foreground="#CCCCCC"
                             BorderBrush="#3E3E42"/>
                    <TextBlock Text="ðŸ’¡ æœåŠ¡å™¨ç«¯ç”Ÿæˆçš„åè®®ä»£ç å°†ä¿å­˜åˆ°æ­¤ç›®å½•"
                               FontSize="12"
                               Foreground="#858585"/>
                </StackPanel>
            </StackPanel>

            <Separator Background="#3E3E42"/>

            <!-- å®¢æˆ·ç«¯é…ç½® -->
            <StackPanel Spacing="5">
                <CheckBox IsChecked="{Binding ExportToClient}"
                          Content="å¯¼å‡ºåˆ°å®¢æˆ·ç«¯"
                          FontWeight="SemiBold"
                          Foreground="#CCCCCC"/>

                <StackPanel Spacing="5" IsEnabled="{Binding ExportToClient}">
                    <TextBlock Text="å®¢æˆ·ç«¯è¾“å‡ºç›®å½•"
                               Foreground="#CCCCCC"/>
                    <TextBox Text="{Binding ClientOutputDirectory}"
                             Watermark="ä¾‹å¦‚: /path/to/client/output"
                             FontFamily="Consolas,Menlo,Monaco,monospace"
                             Background="#252526"
                             Foreground="#CCCCCC"
                             BorderBrush="#3E3E42"/>
                    <TextBlock Text="ðŸ’¡ å®¢æˆ·ç«¯ç”Ÿæˆçš„åè®®ä»£ç å°†ä¿å­˜åˆ°æ­¤ç›®å½•"
                               FontSize="12"
                               Foreground="#858585"/>
                </StackPanel>
            </StackPanel>

            <Separator Background="#3E3E42"/>

            <!-- éªŒè¯çŠ¶æ€ -->
            <Border Background="{Binding IsValid, Converter={StaticResource BoolToValidationBackground}}"
                    BorderBrush="{Binding IsValid, Converter={StaticResource BoolToValidationBorder}}"
                    BorderThickness="2"
                    CornerRadius="4"
                    Padding="12">
                <TextBlock Text="{Binding ValidationMessage}"
                           TextWrapping="Wrap"
                           FontWeight="Medium"
                           Foreground="#FFFFFF"/>
            </Border>

            <!-- è¯´æ˜Ž -->
            <StackPanel Spacing="5">
                <TextBlock Text="ä½¿ç”¨è¯´æ˜Ž"
                           FontWeight="SemiBold"
                           Foreground="#CCCCCC"/>
                <Border Background="#252526"
                        BorderBrush="#3E3E42"
                        BorderThickness="1"
                        CornerRadius="4"
                        Padding="12">
                    <StackPanel Spacing="5">
                        <TextBlock Text="1. åè®®ç›®å½•ä½¿ç”¨å½“å‰å·¥ä½œåŒºè·¯å¾„ï¼ŒåŒ…å« Inner å’Œ Outer å­æ–‡ä»¶å¤¹"
                                   TextWrapping="Wrap"
                                   Foreground="#858585"/>
                        <TextBlock Text="2. é…ç½®æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯çš„è¾“å‡ºç›®å½•"
                                   TextWrapping="Wrap"
                                   Foreground="#858585"/>
                        <TextBlock Text="3. è‡³å°‘é€‰æ‹©ä¸€ä¸ªå¯¼å‡ºç›®æ ‡ï¼ˆæœåŠ¡å™¨æˆ–å®¢æˆ·ç«¯ï¼‰"
                                   TextWrapping="Wrap"
                                   Foreground="#858585"/>
                        <TextBlock Text="4. é…ç½®ä¼šè‡ªåŠ¨ä¿å­˜åˆ°å·¥ä½œåŒºé…ç½®æ–‡ä»¶"
                                   TextWrapping="Wrap"
                                   Foreground="#858585"/>
                        <TextBlock Text="5. ä½¿ç”¨èœå•ã€Œæ–‡ä»¶ â†’ æ‰§è¡Œå¯¼å‡ºã€æ‰§è¡Œå¯¼å‡º"
                                   TextWrapping="Wrap"
                                   Foreground="#858585"/>
                    </StackPanel>
                </Border>
            </StackPanel>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>
